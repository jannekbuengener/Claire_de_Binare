# ‚ö†Ô∏è DEPRECATED - DO NOT MODIFY THIS FILE ‚ö†Ô∏è
#
# This file is LEGACY and will be removed in a future update.
#
# ‚úÖ USE INSTEAD: infrastructure/compose/dev.yml
#
# Why deprecated:
# - Located at project root (not part of infrastructure directory)
# - Legacy file structure
# - Duplicate configuration with canonical dev.yml
#
# Migration:
#   OLD: docker-compose -f docker-compose.yml -f docker-compose.dev.yml up
#   NEW: .\infrastructure\scripts\stack_up.ps1 -Profile dev
#
# See LEGACY_FILES.md for complete migration guide.
#
# Timeline:
# - ‚úÖ File moved to infrastructure/compose/dev.yml
# - ‚úÖ Port bindings updated to 127.0.0.1 (localhost-only)
# - ‚è≥ THIS FILE - Deprecation warnings added
# - üîú Will be removed after verification period
#
# ============================================================================
# Claire de Binare - Docker Compose (Dev Overlay) - LEGACY
# Entwicklungs-Overlay: Bind-Mounts und Ports f√ºr lokale Entwicklung
# ============================================================================

services:
  cdb_redis:
    extends:
      file: docker-compose.base.yml
      service: cdb_redis
    ports:
      - "127.0.0.1:6379:6379"

  cdb_postgres:
    extends:
      file: docker-compose.base.yml
      service: cdb_postgres
    ports:
      - "127.0.0.1:5432:5432"

  cdb_prometheus:
    extends:
      file: docker-compose.base.yml
      service: cdb_prometheus
    ports:
      - "9090:9090"

  cdb_grafana:
    extends:
      file: docker-compose.base.yml
      service: cdb_grafana
    ports:
      - "3000:3000"

  cdb_ws:
    extends:
      file: docker-compose.base.yml
      service: cdb_ws
    read_only: false

  cdb_core:
    extends:
      file: docker-compose.base.yml
      service: cdb_core
    volumes:
      - ./services/signal:/app
    read_only: false

  cdb_risk:
    extends:
      file: docker-compose.base.yml
      service: cdb_risk
    volumes:
      - ./services/risk:/app
    read_only: false

  cdb_execution:
    extends:
      file: docker-compose.base.yml
      service: cdb_execution
    volumes:
      - ./services/execution:/app
    read_only: false

  cdb_db_writer:
    extends:
      file: docker-compose.base.yml
      service: cdb_db_writer
    volumes:
      - ./services/db_writer:/app
    read_only: false

  cdb_paper_runner:
    extends:
      file: docker-compose.base.yml
      service: cdb_paper_runner
    read_only: false
