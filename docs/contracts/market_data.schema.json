{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Market Data Message Contract",
  "$comment": "Migration: qty -> trade_qty; legacy qty rejected.",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "schema_version",
    "source",
    "symbol",
    "ts_ms",
    "price",
    "trade_qty",
    "side"
  ],
  "properties": {
    "schema_version": {"const": "v1.0", "type": "string"},
    "type": {"type": "string"},
    "source": {"type": "string"},
    "symbol": {"type": "string"},
    "ts_ms": {"type": "integer"},
    "price": {"type": "string"},
    "trade_qty": {"type": "string"},
    "side": {"type": "string"},
    "trade_id": {"type": "string"},
    "venue": {"type": "string"},
    "interval": {"type": "string"},
    "volume": {"type": "number"},
    "pct_change": {"type": "number"},
    "open": {"type": "string"},
    "high": {"type": "string"},
    "low": {"type": "string"},
    "close": {"type": "string"}
  }
}
